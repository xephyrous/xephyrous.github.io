const c="UCzKoLhscfASe-lt8vTOnPxQ",l="AIzaSyB_FjyFRQt-MKw-FwWCi2M4lwdOLGWn5rA";async function r(){const s=`https://www.googleapis.com/youtube/v3/channels?part=contentDetails&id=${c}&key=${l}`,e=await(await fetch(s)).json();return"error"in e?(console.log("YouTube API Error : "+e.error.message),null):e.items.length>0?e.items[0].contentDetails.relatedPlaylists.uploads:null}async function d(s=""){const e=`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${await r()}&maxResults=50&pageToken=${s}&key=${l}`,t=await(await fetch(e)).json();let a=t.items.map(p=>{const i=p.snippet;return{title:i.title,videoId:i.resourceId.videoId,thumbnail:i.thumbnails.high.url,publishedAt:i.publishedAt}});return t.nextPageToken&&(a=a.concat(await d(t.nextPageToken))),a}async function u(){const n=`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${await r()}&maxResults=1&key=${l}`,o=await(await fetch(n)).json();if(!o.items||o.items.length===0)throw new Error("No videos found.");const t=o.items[0].snippet;return{title:t.title,videoId:t.resourceId.videoId,thumbnail:t.thumbnails.high.url,publishedAt:t.publishedAt}}export{d as a,u as g};
